*/

# --- Railway public host (fallback if not using linked service) ---
MYSQLHOST=maglev.proxy.rlwy.net
MYSQLPORT=51241
MYSQLUSER=root
MYSQLPASSWORD=WivwFhKvgkNpnRnGAfhfGgPkxntmNFKU
MYSQLDATABASE=railway

<?php
// Pilih config Railway saat di-deploy, atau local saat di-dev
$host = getenv('MYSQLHOST') ?: '127.0.0.1';
$port = getenv('MYSQLPORT') ?: '3306';
$user = getenv('MYSQLUSER') ?: 'berita_user';
$pass = getenv('MYSQLPASSWORD') ?: 'Berita$2025';
$db   = getenv('MYSQLDATABASE') ?: 'portal_db';

$conn = new mysqli($host, $user, $pass, $db, (int) $port);

// Aktifkan mode error
mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);

if ($conn->connect_error) {
  die('Koneksi database gagal: ' . $conn->connect_error);
}
?>
